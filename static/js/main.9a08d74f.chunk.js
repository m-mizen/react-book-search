(this["webpackJsonpreact-book-search"]=this["webpackJsonpreact-book-search"]||[]).push([[0],{18:function(n,e,t){n.exports=t(27)},23:function(n,e,t){},27:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(14),c=t.n(o),i=(t(23),t(1)),l=t(2),u=t(11),s=t(5),f=t.n(s),m=t(3),d=t(9),v=t(8),g=a.a.createContext({searchResults:[],totalResults:0,search:function(){},loadMore:function(){},loading:!1}),b=function(n){var e=Object(r.useState)({results:[],totalResults:0,term:"",loading:!1}),t=Object(v.a)(e,2),o=t[0],c=t[1],i=function(){var n=Object(d.a)(f.a.mark((function n(e){var t,r,a,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.loading){n.next=2;break}return n.abrupt("return");case 2:return e||c({results:[],totalResults:0,term:"",loading:!1}),c(Object(m.a)(Object(m.a)({},o),{},{loading:!0})),n.next=6,fetch("".concat("https://www.googleapis.com/books/v1","/volumes?maxResults=20&q=").concat(e));case 6:return t=n.sent,n.next=9,t.json();case 9:r=n.sent,a=r.items,i=r.totalItems,c({results:a,totalResults:i,term:e,loading:!1});case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=Object(d.a)(f.a.mark((function n(){var e,t,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.loading){n.next=2;break}return n.abrupt("return");case 2:return c(Object(m.a)(Object(m.a)({},o),{},{loading:!0})),n.next=5,fetch("".concat("https://www.googleapis.com/books/v1","/volumes?maxResults=20&q=").concat(o.term,"&startIndex=").concat(o.results.length));case 5:return e=n.sent,n.next=8,e.json();case 8:t=n.sent,r=t.items,c(Object(m.a)(Object(m.a)({},o),{},{loading:!1,results:[].concat(Object(u.a)(o.results),Object(u.a)(r))}));case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(g.Provider,{value:{results:o.results,totalResults:o.totalResults,loading:o.loading,loadMore:l,search:i}},n.children)};function p(){var n=Object(i.a)(["\n    display: grid;\n    gap: 1rem;\n"]);return p=function(){return n},n}function h(){var n=Object(i.a)(["\n    display: flex;\n    flex-direction: ",";\n    gap: 1rem;\n"]);return h=function(){return n},n}function E(){var n=Object(i.a)(["\n    margin: 0 auto;\n    max-width: 54rem;\n    padding: 0 1rem;\n    width: 100%;\n"]);return E=function(){return n},n}var j=l.a.div(E()),x=l.a.div(h(),(function(n){return n.vertical?"column":"row"}));l.a.div(p());function O(){var n=Object(i.a)(["\n    text-align: center;\n    background: rgba(255,255,255, 0.1);\n    padding: 1rem 0 1.5rem;\n"]);return O=function(){return n},n}var k=l.a.div(O());var w=function(){return a.a.createElement(k,null,a.a.createElement(j,null,a.a.createElement("p",null,"\xa9Mark Mizen ",(new Date).getFullYear(),". Powered by ",a.a.createElement("a",{href:"https://developers.google.com/books",rel:"noopener noreferrer",target:"_blank"},"Google Books API"),".")))};function y(){var n=Object(i.a)(["\n    border-radius: 2px;\n    background: var(--color-light, #fff);\n    color: var(--color-dark, #000);\n    padding: .25em .5em;\n    border: 1px solid var(--color-border, red);\n    line-height: 1.5;\n    font-size: inherit;\n"]);return y=function(){return n},n}var R=l.a.input(y());function C(){var n=Object(i.a)(["\n    display: block;\n    border-radius: 2px;\n    color: var(--color-light, #fff);\n    border: none;\n    font-size: inherit;\n    background: ",";\n    cursor: pointer;\n    padding: .25rem .5rem;\n    &:hover{\n        background-color: var(--color-theme-hover);\n    }\n"]);return C=function(){return n},n}var z=l.a.button(C(),(function(n){return n.disabled?"var(--color-disabled)":"var(--color-theme)"}));function S(){var n=Object(i.a)(["\n    display: block;\n    margin-bottom: .25rem;\n    font-size: 1rem;\n    text-align: left;\n"]);return S=function(){return n},n}function M(){var n=Object(i.a)(["\n    font-size: 125%;\n    input {\n        flex: 1;\n        width: 100%;\n        display: block;\n    }\n"]);return M=function(){return n},n}var B=0,I=l.a.form(M()),P=l.a.label(S());var D=function(n){var e=Object(r.useState)(""),t=Object(v.a)(e,2),o=t[0],c=t[1],i="search-".concat(B++),l=window.innerWidth<400;return a.a.createElement(g.Consumer,null,(function(n){var e=n.search;return a.a.createElement(I,{onSubmit:function(n){return function(n,e){n.preventDefault(),e(o)}(n,e)}},a.a.createElement(P,{htmlFor:i},"Search term:"),a.a.createElement(x,{vertical:l},a.a.createElement(R,{id:i,type:"text",value:o,onChange:function(n){return c(n.target.value)}}),a.a.createElement(z,{type:"submit"},"Search"),a.a.createElement(z,{type:"reset",onClick:function(n){return function(n,e){n.preventDefault(),c(""),e("")}(n,e)}},"Clear")))}))};function N(){var n=Object(i.a)(["\n    position: relative;\n    width: 9ch;\n    text-align: center;\n    height: 1.5rem;\n    color: gold;\n    span {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        top: 0;\n    }\n    ","\n"]);return N=function(){return n},n}var W=l.a.div(N(),(function(n){return n.rated?"":"color: var(--color-border)"}));var q=function(n){var e=!(!n.rating&&0!==n.rating),t=e?"".concat(n.rating/5*100,"%"):"0",r={clipPath:"polygon(0 0, ".concat(t," 0, ").concat(t," 100%, 0 100%)")},o=e?"".concat(n.rating," stars"):"No rating available";return a.a.createElement("div",{title:o},a.a.createElement(W,{role:"presentation",rated:e},a.a.createElement("span",null,"\u2606 \u2606 \u2606 \u2606 \u2606"),a.a.createElement("span",{style:r},"\u2605 \u2605 \u2605 \u2605 \u2605")))};function F(){var n=Object(i.a)(["\n    margin-top: auto;\n    height: 192px;\n    width: auto;\n    max-width: 100%;\n    object-fit: contain;\n    object-fit-position: bottom;\n"]);return F=function(){return n},n}function G(){var n=Object(i.a)(["\n    margin: 0;\n    font-size : 85%;\n    text-transform: uppercase;\n"]);return G=function(){return n},n}function J(){var n=Object(i.a)(["\n    margin: 0;\n    font-size: 1rem;\n    font-family: var(--font-family-title, inherit);\n"]);return J=function(){return n},n}function L(){var n=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: .5rem;\n    align-items: center;\n"]);return L=function(){return n},n}var A=l.a.div(L()),Y=l.a.h2(J()),$=l.a.p(G()),_=l.a.img(F());var H=function(n){var e=n.book.volumeInfo,t=e.title,r=e.subtitle,o=e.averageRating,c=e.ratingsCount,i=e.imageLinks,l=(null===i||void 0===i?void 0:i.thumbnail)||null;return l=l.replace("http://","https://"),a.a.createElement(A,null,a.a.createElement(Y,null,t),a.a.createElement($,null,r),l&&a.a.createElement(_,{src:l,alt:"Book Cover for ".concat(t)}),a.a.createElement(q,{rating:o,ratings:c}))};function K(){var n=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    margin: 2rem auto;\n"]);return K=function(){return n},n}var Q=l.a.div(K());var T=function(n){return a.a.createElement(Q,null,a.a.createElement(g.Consumer,null,(function(n){var e=n.results,t=n.totalResults,r=n.loadMore;if((null===e||void 0===e?void 0:e.length)&&e.length<t)return a.a.createElement(z,{onClick:r,type:"button"},"Load More")})))};function U(){var n=Object(i.a)(["\n    font-size: 80%;\n    text-align: center;\n    font-style: italic;\n"]);return U=function(){return n},n}function V(){var n=Object(i.a)(["\n    text-align: center;\n"]);return V=function(){return n},n}function X(){var n=Object(i.a)(["\n    margin: 2rem 0 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));\n    gap: 1rem;\n    text-align: center;\n"]);return X=function(){return n},n}function Z(){var n=Object(i.a)(["\n    width: 100%;\n    padding: 1rem 5%;\n    max-width: 110rem;\n"]);return Z=function(){return n},n}var nn=l.a.div(Z()),en=l.a.div(X()),tn=l.a.div(V()),rn=l.a.div(U());var an=function(n){return a.a.createElement(nn,null,a.a.createElement(g.Consumer,null,(function(n){var e,t=n.results,r=n.totalResults;return(null===t||void 0===t?void 0:t.length)>0?a.a.createElement("div",null,a.a.createElement(tn,null,"Showing: ",t.length," of ",r),a.a.createElement(en,null,null===(e=t)||void 0===e?void 0:e.map((function(n,e){return a.a.createElement(H,{key:e,book:n})}))),a.a.createElement(T,null)):a.a.createElement(rn,null,"Nothing to display")})))};function on(){var n=Object(i.a)(["\n  padding-top: 2rem;\n  display:flex;\n  flex-direction: column;\n  height: 100vh;\n  > .main {\n      flex: 1 1 auto;\n  }\n  > footer {\n      flex: 0 0 auto;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(i.a)(["\n  font-family: var(--font-family-title);\n"]);return cn=function(){return n},n}function ln(){var n=Object(i.a)(["\n  justify-content: flex-start;\n  align-items: center;\n"]);return ln=function(){return n},n}var un=Object(l.a)(x)(ln()),sn=l.a.h1(cn()),fn=l.a.div(on());var mn=function(){return a.a.createElement(fn,null,a.a.createElement(un,{className:"main",vertical:!0},a.a.createElement(b,null,a.a.createElement(j,null,a.a.createElement(sn,null,"Google Books Search"),a.a.createElement(D,null)),a.a.createElement(an,null))),a.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.9a08d74f.chunk.js.map